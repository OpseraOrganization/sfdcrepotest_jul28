<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <enableEnhancedLookup>true</enableEnhancedLookup>
    <validationRules>
        <fullName>Apttus__End_Date_Check</fullName>
        <active>false</active>
        <description>Check that either perpetual is checked or end date is filled in when agreement goes into effect</description>
        <errorConditionFormula>AND(
ISPICKVAL(Apttus__Status_Category__c,&quot;In Effect&quot;),
AND(ISNULL(Apttus__Contract_End_Date__c),NOT(Apttus__Perpetual__c)),
OR(ISNULL(Apttus__Term_Months__c),Apttus__Term_Months__c&lt;=0)
)</errorConditionFormula>
        <errorDisplayField>Apttus__Contract_End_Date__c</errorDisplayField>
        <errorMessage>Please enter the Agreement End Date or mark the Agreement as Perpetual prior to executing the agreement.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>Apttus__Term_Validation_2</fullName>
        <active>true</active>
        <description>Validate that Term is entered correctly</description>
        <errorConditionFormula>AND( (Apttus__Perpetual__c ),  NOT(ISNULL(  Apttus__Contract_End_Date__c )) )</errorConditionFormula>
        <errorDisplayField>Apttus__Contract_End_Date__c</errorDisplayField>
        <errorMessage>Cannot enter both Perpetual and End Date.  Please enter only one of the values</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>CLM_Confidence_Level_cannot_be_High</fullName>
        <active>true</active>
        <errorConditionFormula>AND(
NOT(ISNEW()),

 RecordType.Name &lt;&gt; &quot;General&quot;,
ISPICKVAL( Apttus__Status_Category__c ,&quot;In Application&quot;), 

 ISPICKVAL(Confidence_Level__c ,&quot;High Level&quot;), 
OR(
ISBLANK(Apttus__Account__c),
ISBLANK(End_Customer__c),
ISBLANK(Nokia_Legal_Entity_lookup__c),
ISBLANK(TEXT(Execution_category__c)),
ISBLANK(Apttus_CMConfig__PaymentTermId__c),
ISBLANK(TEXT(Apttus_CMConfig__PayoutFrequency__c)),
ISBLANK(TEXT(Inco_Term_Description__c)),
ISBLANK(TEXT(Sales_Mode__c)),
ISBLANK(Apttus__Contract_Start_Date__c),
AND(ISBLANK(Apttus__Contract_End_Date__c), (Apttus__Perpetual__c=False) )))</errorConditionFormula>
        <errorDisplayField>Apttus_CMConfig__ABOType__c</errorDisplayField>
        <errorMessage>Confidence level cannot be &quot;High Level&quot; unless the below fields have data
Account Legal Entity, End customer, Nokia Legal Entity, Execution category,
Payment Term,Payout frequency,Incoterm,Sales Mode,Agreement Start date,Agreement End Date or Evergreen</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>CLM_Confidence_Level_to_be_Low</fullName>
        <active>false</active>
        <description>Confidence Level cannot be changed to high unless the Agreement status category is &apos;In Application&apos; or &apos;In Effect&apos;</description>
        <errorConditionFormula>AND(
RecordType.Name &lt;&gt; &apos;General&apos;,
OR(ISPICKVAL(PRIORVALUE(Confidence_Level__c), &quot;Low Level&quot;),
ISPICKVAL(PRIORVALUE(Confidence_Level__c), &quot;&quot;)),
NOT(ISPICKVAL( Apttus__Status_Category__c ,&quot;In Effect&quot;)),
NOT(ISPICKVAL( Apttus__Status_Category__c ,&quot;In Application&quot;)),
ISPICKVAL(Confidence_Level__c ,&quot;High Level&quot;)

)</errorConditionFormula>
        <errorDisplayField>Confidence_Level__c</errorDisplayField>
        <errorMessage>Confidence Level cannot be changed to &apos;High Level&apos; unless the agreement is In Application or In Effect</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>CLM_End_Date_Check</fullName>
        <active>false</active>
        <description>Check that either Evergreen is checked or end date is filled in when agreement goes into effect</description>
        <errorConditionFormula>AND(
ISPICKVAL(Apttus__Status_Category__c,&quot;In Effect&quot;),
AND(ISNULL(Apttus__Contract_End_Date__c),NOT(Apttus__Perpetual__c)),
OR(ISNULL(Apttus__Term_Months__c),Apttus__Term_Months__c&lt;=0)
)</errorConditionFormula>
        <errorDisplayField>Apttus__Contract_End_Date__c</errorDisplayField>
        <errorMessage>Please enter the Agreement End Date or mark the Agreement as Evergreen prior to executing the agreement.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>CLM_Mandatory_fieldsWhenERPisBlue_Planet</fullName>
        <active>true</active>
        <errorConditionFormula>AND(
NOT(ISNEW()),

RecordType.Name &lt;&gt; &quot;General&quot;,

 ISPICKVAL(Confidence_Level__c ,&quot;High Level&quot;), 

ISPICKVAL(ERP__c ,&quot;Blue Planet&quot;),

OR(
ISBLANK(Nokia_Legal_Entity__c),

ISBLANK(WBS_Number__c),

ISBLANK(Tax_Id_Country__c),

ISBLANK(TEXT(Lead_BU__c)))




)</errorConditionFormula>
        <errorMessage>When ERP is Blue Planet, the following fields are mandatory: Selling Unit Code, WBS Number, Tax ID country, Lead BU (Alliance format)</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>CLM_Mandatory_fields_When_ERP_is_P20</fullName>
        <active>true</active>
        <errorConditionFormula>AND(
NOT(ISNEW()),
 RecordType.Name &lt;&gt; &quot;General&quot;,

 ISPICKVAL(Confidence_Level__c ,&quot;High Level&quot;), 
ISPICKVAL(ERP__c ,&quot;P20&quot;),
OR(
ISBLANK(Nokia_Legal_Entity_lookup__c),
ISBLANK(Nokia_Legal_Entity__c),
ISBLANK(Sales_Org_Number__c),
ISBLANK(Sales_Office_Number__c),
ISBLANK(Sales_Group_Number__c),
ISBLANK(Dist_Channel__c),
ISBLANK(Division__c),
ISBLANK(WBS_Number__c),
ISBLANK(TEXT(Lead_BU__c)))




)</errorConditionFormula>
        <errorMessage>When ERP is P20 the following fields are mandatory: Nokia Legal Entity, Selling Unit Code, Sales Org, Sales Office, Sales Group, Distribution Channel, Division, WBS Number, Lead BU (Alliance format)</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>CLM_Term_Validation_2</fullName>
        <active>false</active>
        <description>Validate that Term is entered correctly</description>
        <errorConditionFormula>AND( (Apttus__Perpetual__c ),  NOT(ISNULL(  Apttus__Contract_End_Date__c )) )</errorConditionFormula>
        <errorDisplayField>Apttus__Contract_End_Date__c</errorDisplayField>
        <errorMessage>Cannot enter both Evergreen and End Date.  Please enter only one of the values</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>ERP_is_a_mandatory_field</fullName>
        <active>true</active>
        <description>When confidence level is blank and ERP is blank</description>
        <errorConditionFormula>AND(
ISPICKVAL(Confidence_Level__c,&apos;High Level&apos;),
OR(ISBLANK(TEXT(ERP__c)),
ISPICKVAL(ERP__c, &apos;&apos;))
)</errorConditionFormula>
        <errorDisplayField>ERP__c</errorDisplayField>
        <errorMessage>Please fill ERP field.</errorMessage>
    </validationRules>
    <webLinks>
        <fullName>Apttus__AgreementHierarchy</fullName>
        <availability>online</availability>
        <description>View Agreement Hierarchy</description>
        <displayType>button</displayType>
        <height>600</height>
        <linkType>page</linkType>
        <masterLabel>Agreement Hierarchy (New)</masterLabel>
        <openType>sidebar</openType>
        <page>Apttus__AgreementHierarchy</page>
        <protected>false</protected>
    </webLinks>
    <webLinks>
        <fullName>Apttus__CreateImportOffline</fullName>
        <availability>online</availability>
        <description>Create and Import Offline</description>
        <displayType>massActionButton</displayType>
        <encodingKey>UTF-8</encodingKey>
        <height>600</height>
        <linkType>url</linkType>
        <masterLabel>Create Import Offline</masterLabel>
        <openType>sidebar</openType>
        <protected>false</protected>
        <requireRowSelection>true</requireRowSelection>
        <url>/apex/Apttus__OfflineAgreement</url>
    </webLinks>
    <webLinks>
        <fullName>Apttus__EmailAgreementDocuments</fullName>
        <availability>online</availability>
        <description>Email Agreement(s) Document(s)</description>
        <displayType>massActionButton</displayType>
        <height>600</height>
        <linkType>page</linkType>
        <masterLabel>Email Agreement(s) Document(s)</masterLabel>
        <openType>sidebar</openType>
        <page>Apttus__AgreementDocumentEmail</page>
        <protected>false</protected>
        <requireRowSelection>true</requireRowSelection>
    </webLinks>
    <webLinks>
        <fullName>Apttus__UploadReviewedDocument</fullName>
        <availability>online</availability>
        <description>Upload Reviewed Document for end review</description>
        <displayType>button</displayType>
        <hasMenubar>false</hasMenubar>
        <hasScrollbars>true</hasScrollbars>
        <hasToolbar>false</hasToolbar>
        <height>600</height>
        <isResizable>true</isResizable>
        <linkType>page</linkType>
        <masterLabel>Upload Reviewed Document</masterLabel>
        <openType>newWindow</openType>
        <page>Apttus__UploadParallelReviewDocument</page>
        <position>none</position>
        <protected>false</protected>
        <showsLocation>false</showsLocation>
        <showsStatus>false</showsStatus>
    </webLinks>
    <webLinks>
        <fullName>Apttus__ViewInEffect</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <height>600</height>
        <linkType>page</linkType>
        <masterLabel>In Effect View</masterLabel>
        <openType>noSidebar</openType>
        <page>Apttus__AgreementInEffectView</page>
        <protected>false</protected>
    </webLinks>
    <webLinks>
        <fullName>CLM_Store_Executed_Agreement</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <encodingKey>UTF-8</encodingKey>
        <height>600</height>
        <linkType>url</linkType>
        <masterLabel>Store Executed Agreement</masterLabel>
        <openType>sidebar</openType>
        <protected>false</protected>
        <requireRowSelection>true</requireRowSelection>
        <url>https://nokia--cpqperf--apttus.visualforce.com/apex/agreementrecordtypeselect?cancel_objectType=a0l&amp;continuePage=Apttus__AgreementStoreExecutedNew&amp;retURL=%2Fa0l%2Fo</url>
    </webLinks>
    <webLinks>
        <fullName>New</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <encodingKey>UTF-8</encodingKey>
        <height>600</height>
        <linkType>url</linkType>
        <masterLabel>New</masterLabel>
        <openType>sidebar</openType>
        <protected>false</protected>
        <requireRowSelection>true</requireRowSelection>
        <url>/apex/CLM_AgrmntRelatedCntrctRequestPage?Id={!Apttus__APTS_Agreement__c.Id}</url>
    </webLinks>
    <webLinks>
        <fullName>New_Contract</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <encodingKey>UTF-8</encodingKey>
        <height>600</height>
        <linkType>url</linkType>
        <masterLabel>New Contract</masterLabel>
        <openType>sidebar</openType>
        <protected>false</protected>
        <requireRowSelection>false</requireRowSelection>
        <url>/apex/CLM_AgrmntRelatedCntrctRequestPage?Id={!Opportunity.Id}</url>
    </webLinks>
</CustomObject>
